<head>
  <% if Rails.env.development? %>
    <title>[DEV] Quill.org &mdash; <%= @title || 'Interactive Writing and Grammar' %></title>
    <%= favicon_link_tag 'favicon-dev.ico' %>
  <% elsif Rails.env.staging? %>
    <title>[Staging] Quill.org &mdash; <%= @title || 'Interactive Writing and Grammar' %></title>
    <%= favicon_link_tag 'favicon-staging.ico' %>
  <% else %>
    <title>Quill.org &mdash; <%= @title || 'Interactive Writing and Grammar' %></title>
    <%= favicon_link_tag 'favicon.ico' %>
  <% end %>

  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta property="og:type"               content="website" />
  <meta property="og:title"              content= "<%= @title || "Free tools to make your students better writers." %>" />
  <meta property="og:image"              content=<%=@image_link || image_url('share/facebook.png') %> />

  <meta name="description" content="<%= @description || @content %>">
  <meta name="og:description" content="<%= @description || @content %>">

  <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css?family=Roboto+Mono" rel="stylesheet">
  <!-- <script defer src="https://use.fontawesome.com/releases/v5.0.8/js/solid.js" integrity="sha384-+Ga2s7YBbhOD6nie0DzrZpJes+b2K1xkpKxTFFcx59QmVPaSA8c7pycsNaFwUK6l" crossorigin="anonymous"></script>
  <script defer src="https://use.fontawesome.com/releases/v5.0.8/js/fontawesome.js" integrity="sha384-7ox8Q2yzO/uWircfojVuCQOZl+ZZBg2D2J5nkpLqzH1HY0C1dHlTKIbpRz/LG23c" crossorigin="anonymous"></script> -->

  <%= render partial: 'typekit' unless Rails.env.test? %>
  <%= stylesheet_pack_tag('app') %>
  <% if @style_file %>
    <%= stylesheet_pack_tag(@style_file) %>
  <% else %>
    <%= stylesheet_link_tag 'application', media: 'all', 'data-turbolinks-track' => true %>
  <% end %>
  <%= javascript_pack_tag('vendor') %>
  <%= javascript_pack_tag(@js_file || 'app') %>
  <%= csrf_meta_tags %>
  <meta id='current-user-testing-flag' property="flag" content=<%= current_user&.testing_flag%> />
  <meta id='current-user-id' property="id" content=<%= current_user&.id%> />
  <meta id='current-user-is-premium?' property="is_premium?" content=<%= current_user&.is_premium?%> />
  <meta id='current-user-email' property="email" content=<%= current_user&.email%> />
  <% unless Rails.env.test? %>
    <link href="//fonts.googleapis.com/css?family=Comfortaa:400,700" rel="stylesheet" type="text/css" />
  <% end %>
  <%= render partial: 'application/head_embed_codes' %>

  <%= render :partial => 'firewall_test' if @firewall_test %>

<!--[if !IE 7]>
  <style type="text/css">
    #wrap { display: table ; height: 100% }
  </style>
<![endif]-->

<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
<!--[if lt IE 9]>
  <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
  <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
