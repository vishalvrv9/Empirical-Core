<div class="subnav">
  <div class="container d-fl-r jc-sb">
    <div class="subnav-left">
      <div class="subnav-item"><%= @activity.title %></div>
      <div class="subnav-item"><%= @activity.question_sets.count %> Question Sets</div>
      <div class="subnav-item"><%= @activity.questions.count %> Questions</div>
    </div>
    <div class="subnav-right">
      <div class="subnav-item"><%= link_to 'Play', play_activity_path(@activity) %></div>
      <div class="subnav-item"><%= link_to 'Edit', edit_activity_path(@activity) %></div>
      <div class="subnav-item"><%= link_to 'Destroy', @activity, method: :delete, data: { confirm: 'Are you sure?' } %></div>
    </div>
  </div>
</div>

<div class="container">
  <p><%= @activity.article[0..280] + "..." %></p>

  <h3>Question Sets</h3>

  <div class="card">
    <div class="table-responsive">
      <table class="table table-hover table-outline table-vcenter card-table">
        <thead>
          <tr>
            <th>Prompt</th>
            <th>Questions</th>
            <th>Order</th>
            <th colspan="4"></th>
          </tr>
        </thead>

        <tbody>
          <% @activity.question_sets.each do |question_set| %>
            <tr>
              <td><%= question_set.prompt %></td>
              <td><%= question_set.questions.count %></td>
              <td><%= question_set.order %></td>
              <td><%= link_to 'Show', question_set %></td>
              <td><%= link_to 'New Question', new_question_set_question_path(question_set) %></td>
              <td><%= link_to 'Edit', edit_question_set_path(question_set) %></td>
              <td><%= link_to 'Destroy', question_set, method: :delete, data: { confirm: 'Are you sure?' } %></td>
            </tr>
          <% end %>
        </tbody>
      </table>
    </div>
    <div class="card-footer">
    <%= link_to 'New Question Set', new_activity_question_set_path(@activity) %>
    </div>
  </div>
  

  <h3>Questions</h3>

  <div class="card">
    <div class="table-responsive">
      <table class="table table-hover table-outline table-vcenter card-table">
        <thead>
          <tr>
            <th>Question Set</th>
            <th>Prompt</th>
            <th colspan="3"></th>
          </tr>
        </thead>

        <tbody>
          <% @activity.questions.each do |question| %>
            <tr>
              <td><%= link_to question.question_set&.prompt, question_set_path(question.question_set_id) %></td>
              <td><%= question.prompt %></td>
              <td><%= link_to 'Show', question %></td>
              <td><%= link_to 'Edit', edit_question_path(question) %></td>
              <td><%= link_to 'Destroy', question, method: :delete, data: { confirm: 'Are you sure?' } %></td>
            </tr>
          <% end %>
        </tbody>
      </table>
    </div>
  </div>

  <h3>Vocabulary Words</h3>

  <div class="card">
    <div class="table-responsive">
      <table class="table table-hover table-outline table-vcenter card-table">
        <thead>
          <tr>
            <th>Text</th>
            <th>Description</th>
            <th>Example</th>
            <th>Order</th>
            <th colspan="3"></th>
          </tr>
        </thead>

        <tbody>
          <% @activity.vocabulary_words.each do |vocabulary_word| %>
            <tr>
              <td><%= vocabulary_word.text %></td>
              <td><%= vocabulary_word.description %></td>
              <td><%= vocabulary_word.example %></td>
              <td><%= vocabulary_word.order %></td>
              <td><%= link_to 'Show', vocabulary_word %></td>
              <td><%= link_to 'Edit', edit_vocabulary_word_path(vocabulary_word) %></td>
              <td><%= link_to 'Destroy', vocabulary_word, method: :delete, data: { confirm: 'Are you sure?' } %></td>
            </tr>
          <% end %>
        </tbody>
      </table>
    </div>
    <div class="card-footer">
      <%= link_to 'New Vocabulary Word', new_activity_vocabulary_word_path(@activity) %>
    </div>
  </div>

  

</div>